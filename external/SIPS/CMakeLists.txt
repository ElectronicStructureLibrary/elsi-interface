ADD_LIBRARY(sips src/sips.F90)

IF(ELSI_USE_FIND_PACKAGE_MPI)
  find_package(MPI)
  TARGET_LINK_LIBRARIES(sips PUBLIC MPI::MPI_C MPI::MPI_Fortran)
ENDIF()

TARGET_LINK_LIBRARIES(sips PRIVATE ${LIBS})

TARGET_INCLUDE_DIRECTORIES(sips PRIVATE
  ${INC_PATHS}
  ${CMAKE_Fortran_MODULE_DIRECTORY})

INSTALL(TARGETS sips
  EXPORT elsiConfig
  DESTINATION ${CMAKE_INSTALL_LIBDIR})

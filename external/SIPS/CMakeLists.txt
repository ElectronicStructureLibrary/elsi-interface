### Source file ###
LIST(APPEND sips_src src/sips.F90)

ADD_LIBRARY(sips ${sips_src})

TARGET_LINK_LIBRARIES(sips PRIVATE ${SLEPC_LIB} ${MATH_LIB})
IF(ENABLE_MKL)
  SET_TARGET_PROPERTIES(sips
    PROPERTIES LINK_FLAGS "-mkl=cluster")
ENDIF()

TARGET_INCLUDE_DIRECTORIES(sips PRIVATE ${SLEPC_INC})

IF(NOT "${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR}" STREQUAL "${PROJECT_BINARY_DIR}/lib")
  INSTALL(TARGETS sips
    DESTINATION ${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR})
ENDIF()

# The name of the libraries to be created/linked to
DSuperLUroot = $(PEXSI_DIR)/external/SuperLU
DSUPERLULIB  = $(DSuperLUroot)/lib/libsuperlu_dist_3.3.a
BLASDEF      = -DUSE_VENDOR_BLAS
BLASLIB      = -L${MKLROOT}/lib/intel64 \
               -I${MKLROOT}/include/intel64/lp64 -lmkl_intel_lp64 \
               -lmkl_sequential -lmkl_core -lpthread
# parmetis 4.0.2, 32-bit integer
METISLIB     = -L$(PEXSI_DIR)/external/lib -lmetis
PARMETISLIB  = -L$(PEXSI_DIR)/external/lib -lparmetis

# Define all the libraries
LIBS         = $(DSUPERLULIB) $(BLASLIB) $(PARMETISLIB) $(METISLIB) $(FLIBS)

# C compiler setup
CC           = $(MPICC)
# CFLAGS should be set to be the C flags that include optimization
CFLAGS      += -DDEBUGlevel=0 -DPRNTlevel=1 -DPROFlevel=0 -D_LONGINT
# NOOPTS should be set to be the C flags that turn off any optimization
NOOPTS       = -O0

# FORTRAN compiler setup
FORTRAN      = $(MPIFC)
F90FLAGS     = -O0 -ip -g -traceback

LOADER       = $(MPICC)
LOADOPTS     = -O3 -mavx -funsafe-loop-optimizations -funsafe-math-optimizations \
               -ftree-vect-loop-version -ftree-vectorize

# C preprocessor defs for compilation (-DNoChange, -DAdd_, or -DUpCase)
# Need follow the convention of how C calls a Fortran routine.
CDEFS        = -DAdd_

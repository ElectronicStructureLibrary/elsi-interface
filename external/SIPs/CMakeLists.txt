### Source file ###
LIST(APPEND sips_src src/m_qetsc.F90)

ADD_LIBRARY(sips ${sips_src})

IF(BUILD_SHARED_LIBS)
  TARGET_LINK_LIBRARIES(sips ${SLEPC_LIB} ${MATH_LIB})
  IF(ENABLE_MKL)
    SET_TARGET_PROPERTIES(sips
      PROPERTIES LINK_FLAGS "-mkl=cluster")
  ENDIF()
ENDIF()

IF(NOT "${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR}" STREQUAL "${PROJECT_BINARY_DIR}/lib")
  INSTALL(TARGETS sips
    DESTINATION ${CMAKE_INSTALL_PREFIX}/${CMAKE_INSTALL_LIBDIR})
ENDIF()

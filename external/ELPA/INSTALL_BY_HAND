How to install ELPA without the autotools
=========================================

If you are looking at this file, you may try to build ELPA by yourself, 
using the predefined "Makefile.elsi". Before you run "make", please set 
a few variables in "make.sys", which will be included in "Makefile.elsi".

1) Edit your "make.sys"

1.1) Choose ELPA2 kernels

   If using autotools to install ELPA, With the release 2014.06 or newer 
   it is NOT mandatory to define the (real and complex) kernels at build 
   time. The configure procedure will build all the kernels which can be 
   used on the build system. The choice of the kernels is now a run-time 
   option.

   However, when building ELPA without the autotools, it is MANDATORY to 
   define specific kernel for the real and complex case each). Then ELPA 
   is configured only with the chosen kernels, and all run-time checking 
   is disabled.

   The variable "ARCHITECTURE" in "make.sys" is used to specify ELPA2 
   kernels. Please refer to "./src/elpa2_kernels/README_elpa2_kernels".

1.2) Switch on/off OpenMP

   The variable "OPENMP" in "make.sys" is used to switch on/off OpenMP.
   Set this variable to "yes" or "no".

1.3) Set up Blacs/Scalapack

   The variable "SCALAPACK" in "make.sys" is used to specify the location 
   of your Blacs/Scalapack installation.

   For example with Intel MKL one might have to set:

   SCALAPACK="-L${MKLROOT}/lib/intel64 -lmkl_scalapack_lp64 \
              -lmkl_intel_lp64 -lmkl_sequential -lmkl_core \
              -lmkl_blacs_intelmpi_lp64 -lpthread -lm \

1.4) Set compilers with flags

   Please set the compilers that you prefer with the variables "MPIFC", 
   "MPICC", and "MPICXX", with flags "FCFLAGS", "CCFLAGS", and "CXXFLAGS". 
   
   Note that C and C++ comlilers are needed only if AVX kernels and/or OpenMP
   are included. Please see "./src/elpa2_kernels/README_elpa2_kernels".

2) Run "make"

   Set the option "-f" to specify which makefile to use:

   make -f Makefile.elsi

3) Set environment variables for ELPA2 kernels

   As mentioned in 1.1), this installation procedure specifies the elpa2 real
   and cpmplex kernels at build time. For this reason, choosing ELPA2 kernels 
   with API is not needed. However, two environment variables, namely 
   REAL_ELPA_KERNEL and COMPLEX_ELPA_KERNEL, have to be set, forcing the code 
   to use the appropriate kernels.

   The script "set_env.sh" is designed to set these environment variables. 
   Edit the variable "ARCHITECTURE" in "set_env.sh", then run it:

   . ./set_env.sh

4) Run "make install"

   make -f Makefile.elsi install

   This will build ELPA as a library.
